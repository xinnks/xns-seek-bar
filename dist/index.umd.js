(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.XnsSeekBar={},r.Vue))})(this,function(r,e){"use strict";const d=((a,f)=>{const t=a.__vccOpts||a;for(const[p,s]of f)t[p]=s;return t})(e.defineComponent({__name:"XnsSeekBar",props:{currentValue:{default:0},totalValue:{default:20},listen:{type:Boolean,default:!0},barHeight:{default:60},barColor:{default:"#008080"},barShadeColor:{default:"#e1e1e1"},intensity:{default:.5}},emits:["seekedTo"],setup(a,{emit:f}){const t=a,p=f,s=e.ref(null),i=e.ref(0),u=e.ref(0),h=e.ref(""),b=(n,o)=>{const l=o*100<=99?Math.floor(o*100):99;return`${n}${l.toString().padStart(2,"0")}`},w=()=>{h.value=b(t.barColor,t.intensity)},m=(n=t.currentValue,o=t.totalValue)=>{const l=n/o*100;i.value=l<=100?l:100},c=n=>{if(!s.value)return;const o=n.target;if(!o)return;u.value||(u.value=o.offsetWidth);const l=n.offsetX;i.value=l/u.value*100;const y=i.value/100*t.totalValue;p("seekedTo",y)},g=n=>{n.preventDefault(),s.value&&s.value.addEventListener("mousemove",c,!1)},_=()=>{s.value&&s.value.removeEventListener("mousemove",c,!1)},V=()=>{setTimeout(()=>{s.value&&(u.value=s.value.offsetWidth)},200)},v=(n=!0)=>{if(!s.value)return;const o=s.value;n?(o.addEventListener("click",c,!1),o.addEventListener("mousedown",g,!1),o.addEventListener("mouseup",_,!1)):(o.removeEventListener("click",c,!1),o.removeEventListener("mousedown",g,!1),o.removeEventListener("mouseup",_,!1))};return e.watch(()=>t.currentValue,()=>{m(t.currentValue)},{immediate:!0}),e.watch(()=>t.totalValue,()=>{m(t.currentValue,t.totalValue)}),e.watch(()=>t.listen,n=>{v(n)}),e.watch([()=>t.barColor,()=>t.intensity],()=>{w()},{immediate:!0}),e.onMounted(()=>{m(t.currentValue,t.totalValue),w(),v(t.listen),window.addEventListener("resize",V,!1)}),e.onUnmounted(()=>{window.removeEventListener("resize",V,!1),v(!1)}),(n,o)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"trackProgress",ref:s,class:"xns-seeker-progress-wrapper",style:e.normalizeStyle({height:`${n.barHeight}px`,background:n.barShadeColor})},[e.createElementVNode("div",{class:"xns-seeker-progress-bar",style:e.normalizeStyle({width:`${i.value}%`,background:h.value})},null,4)],4))}}),[["__scopeId","data-v-88c70191"]]),k={install(a){a.component("XnsSeekBar",d),a.component("xns-seek-bar",d)}};typeof window<"u"&&window.Vue&&window.Vue.createApp({}).use(k),r.XnsSeekBar=d,r.default=k,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
