"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),S=t.defineComponent({__name:"XnsSeekBar",props:{currentValue:{default:0},totalValue:{default:20},listen:{type:Boolean,default:!0},barHeight:{default:60},barColor:{default:"#008080"},barShadeColor:{default:"#e1e1e1"},intensity:{default:.5}},emits:["seekedTo"],setup(n,{emit:c}){const e=n,d=c,r=t.ref(null),l=t.ref(0),u=t.ref(0),p=t.ref(""),b=(o,a)=>{const s=a*100<=99?Math.floor(a*100):99;return`${o}${s.toString().padStart(2,"0")}`},k=()=>{p.value=b(e.barColor,e.intensity)},f=(o=e.currentValue,a=e.totalValue)=>{const s=o/a*100;l.value=s<=100?s:100},i=o=>{if(!r.value)return;const a=o.target;if(!a)return;u.value||(u.value=a.offsetWidth);const s=o.offsetX;l.value=s/u.value*100;const E=l.value/100*e.totalValue;d("seekedTo",E)},w=o=>{o.preventDefault(),r.value&&r.value.addEventListener("mousemove",i,!1)},g=()=>{r.value&&r.value.removeEventListener("mousemove",i,!1)},h=()=>{setTimeout(()=>{r.value&&(u.value=r.value.offsetWidth)},200)},v=(o=!0)=>{if(!r.value)return;const a=r.value;o?(a.addEventListener("click",i,!1),a.addEventListener("mousedown",w,!1),a.addEventListener("mouseup",g,!1)):(a.removeEventListener("click",i,!1),a.removeEventListener("mousedown",w,!1),a.removeEventListener("mouseup",g,!1))};return t.watch(()=>e.currentValue,()=>{f(e.currentValue)},{immediate:!0}),t.watch(()=>e.totalValue,()=>{f(e.currentValue,e.totalValue)}),t.watch(()=>e.listen,o=>{v(o)}),t.watch([()=>e.barColor,()=>e.intensity],()=>{k()},{immediate:!0}),t.onMounted(()=>{f(e.currentValue,e.totalValue),k(),v(e.listen),window.addEventListener("resize",h,!1)}),t.onUnmounted(()=>{window.removeEventListener("resize",h,!1),v(!1)}),(o,a)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"trackProgress",ref:r,class:"xns-seeker-progress-wrapper",style:t.normalizeStyle({height:`${o.barHeight}px`,background:o.barShadeColor})},[t.createElementVNode("div",{class:"xns-seeker-progress-bar",style:t.normalizeStyle({width:`${l.value}%`,background:p.value})},null,4)],4))}}),_=(n,c)=>{const e=n.__vccOpts||n;for(const[d,r]of c)e[d]=r;return e},m=_(S,[["__scopeId","data-v-88c70191"]]),V={install(n){n.component("XnsSeekBar",m),n.component("xns-seek-bar",m)}};typeof window<"u"&&window.Vue&&window.Vue.createApp({}).use(V);exports.XnsSeekBar=m;exports.default=V;
